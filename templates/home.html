{% extends "base.html" %}
{% load i18n static core_tags %}

{% block content %}

{# --- BREAKOUT: Close the 'container' from base.html --- #}
</div>

{# --- HERO SECTION --- #}
<div class="position-relative vh-100 w-100 bg-black d-flex align-items-center justify-content-center overflow-hidden">

    {# 1. Background Video #}
    <video autoplay loop muted playsinline class="position-absolute top-0 start-0 w-100 h-100 object-fit-cover z-0">
        <source src="{% asset_url 'landing_video' %}" type="video/mp4">
    </video>

    {# 2. Overlay: Gradient for depth (Better than flat opacity) #}
    <div class="position-absolute top-0 start-0 w-100 h-100 z-1 hero-overlay">
    </div>

    {# 3. Content: Rich Details Restored #}
    <div class="container position-relative z-3 pb-5">
        <div class="row align-items-center h-100">
            
            {# --- LEFT COLUMN: LOGO --- #}
            <div class="col-lg-5 text-center text-lg-end mb-5 mb-lg-0">
                <img src="{% static 'svg/ata_logo_white_text.svg' %}" 
                     alt="Ata Dizayn" 
                     class="img-fluid hero-logo">
            </div>

            {# --- RIGHT COLUMN: DETAILED CONTENT --- #}
            {# Added border-start for desktop separation #}
            <div class="col-lg-7 text-center text-lg-start ps-lg-5 border-start-lg border-light border-opacity-25">
                
                {# Brand Badge / Tagline #}
                <div class="d-inline-flex align-items-center border bg-info border-info rounded-pill px-3 py-1 mb-4">
                    <span class="text-white small fw-bold tracking-wide">{% trans "Fiziksel pazarlama çözümleri" %}</span>
                </div>

                <h1 class="display-4 fw-bold text-white mb-4">
                    {% trans "Fikirden" %} <span class="text-primary fw-bold">{% trans "Gerçeğe" %}</span><br>
                    <span class="text-primary fw-bold">{% trans "Sürdürülebilir " %}</span>{% trans "Üretim." %}
                </h1>
                
                <p class="lead text-white mb-4 w-100 w-lg-85">
                    {% trans "20 yıllık tecrübesiyle POS materyalleri, enjeksiyon kalıplama ve endüstriyel parça üretiminde stratejik partneriniz. Tasarımdan lojistiğe uçtan uca hizmet." %}
                </p>

                <div class="d-flex flex-column flex-sm-row gap-3 justify-content-center justify-content-lg-start">
                    <a href="#services" class="btn btn-primary btn-lg rounded-pill px-5 fw-bold shadow-lg hover-lift">
                        <i class="bi bi-columns-gap me-2"></i> {% trans "Keşfet" %}
                    </a>
                    <a href="#contact" class="btn btn-info btn-lg rounded-pill px-5 fw-bold hover-fill">
                        <i class="bi bi-chat-dots me-2"></i> {% trans "İletişim" %}
                    </a>
                </div>
            </div>

        </div>
    </div>

    {# 4. FOOTER STATS: Pinned Bottom --- #}
    <div class="position-absolute bottom-0 start-0 w-100 bg-primary border-top border-info border-opacity-50 z-3">
        <div class="container">
            <div class="row g-0 text-white text-center">
                
                {# Stat 1 #}
                <div class="col-6 col-md-3 border-end border-bottom border-md-bottom-0 border-info border-opacity-25">
                    <div class="py-3">
                        <span class="h4 fw-black d-block mb-0">20+</span>
                        <small class="text small-text">{% trans "Yıl Tecrübe" %}</small>
                    </div>
                </div>

                {# Stat 2 #}
                <div class="col-6 col-md-3 border-md-end border-bottom border-md-bottom-0 border-info border-opacity-25">
                    <div class="py-3">
                        <span class="h4 fw-black d-block mb-0">500+</span>
                        <small class="text small-text">{% trans "Üretilen Kalıp" %}</small>
                    </div>
                </div>

                {# Stat 3 #}
                <div class="col-6 col-md-3 border-end border-info border-opacity-25">
                    <div class="py-3">
                        <span class="h4 fw-black d-block mb-0">650'den fazla</span>
                        <small class="text small-text">{% trans "Mutlu Müşteri" %}</small>
                    </div>
                </div>

                {# Stat 4 #}
                <div class="col-6 col-md-3">
                    <div class="py-3">
                        <span class="h4 fw-black d-block mb-0">4500+</span>
                        <small class="text small-text">{% trans "Tamamlanmış Proje" %}</small>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

{# --- PARTNERS: INFINITE STRIP CAROUSEL --- #}
<div class="brand-strip-container py-2 border-bottom bg-light">
    <div class="container mb-3 text-center">
        <span class="badge text-bg-danger rounded-pill px-3 py-2 mb-2 shadow-sm">{% trans "BİZE GÜVENEN MARKALAR" %}</span>
    </div>
    
    <div class="marquee-viewport">
        <div class="marquee-content">
            {% for brand in brands %}
                {% if brand.website_url %}
                    <a href="{{ brand.website_url }}" target="_blank" rel="noopener noreferrer" class="brand-item">
                        <img src="{{ brand.image.url }}" alt="{{ brand.alt_text }}">
                    </a>
                {% else %}
                    <div class="brand-item">
                        <img src="{{ brand.image.url }}" alt="{{ brand.alt_text }}">
                    </div>
                {% endif %}
            {% endfor %}
            {# Duplicate loop once for seamless infinite effect #}
            {% for brand in brands %}
                {% if brand.website_url %}
                    <a href="{{ brand.website_url }}" target="_blank" rel="noopener noreferrer" class="brand-item">
                        <img src="{{ brand.image.url }}" alt="{{ brand.alt_text }}">
                    </a>
                {% else %}
                    <div class="brand-item">
                        <img src="{{ brand.image.url }}" alt="{{ brand.alt_text }}">
                    </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>
</div>
{# --- SERVICES SECTION --- #}
<div class="container my-4 py-4" id="services">
    
    <div class="text-center mb-4">
        <span class="badge text-bg-info text-white rounded-pill px-3 fs-2 py-2 mb-2 shadow-sm">{% trans "Hizmetlerimiz" %}</span>
        <h2 class="display-5 fw-bold mb-2">{% trans "Değer Katan Çözümler" %}</h2>
        <p class="text-muted w-75 mx-auto">{% trans "Modern makine parkurumuz ve uzman mühendis kadromuzla, projenizin her aşamasında kalite ve hızı garanti ediyoruz." %}</p>
    </div>

    <div class="row g-3">
        {# Card 1 #}
        <div class="col-md-6 col-lg-3">
            <div class="card h-100 border-0 bg-light shadow-sm hover-lift">
                <div class="card-body p-3 text-center">
                    <div class="icon-box bg-white text-info shadow-sm rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center" style="width: 70px; height: 70px;">
                        <i class="bi bi-vector-pen fs-2"></i>
                    </div>
                    <h5 class="fw-bold mb-2">{% trans "Tasarım & Ar-Ge" %}</h5>
                    <p class="text-muted small mb-0">{% trans "Fikirlerinizi üretime uygun, optimize edilmiş 3D modellere ve teknik çizimlere dönüştürüyoruz." %}</p>
                </div>
                <div class="card-footer bg-transparent border-0 pb-3 text-center">
                    <a href="#" class="text-info fw-bold text-decoration-none small">{% trans "Detaylar" %} <i class="bi bi-arrow-right"></i></a>
                </div>
            </div>
        </div>
        {# Card 2 #}
        <div class="col-md-6 col-lg-3">
            <div class="card h-100 border-0 bg-light shadow-sm hover-lift">
                <div class="card-body p-3 text-center">
                    <div class="icon-box bg-white text-info shadow-sm rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center" style="width: 70px; height: 70px;">
                         <i class="bi bi-gear-wide-connected fs-2"></i>
                    </div>
                    <h5 class="fw-bold mb-2">{% trans "Kalıp Üretimi" %}</h5>
                    <p class="text-muted small mb-0">{% trans "Yüksek hassasiyetli CNC parkurumuzda çelik ve alüminyum enjeksiyon kalıplarını işliyoruz." %}</p>
                </div>
                <div class="card-footer bg-transparent border-0 pb-3 text-center">
                    <a href="#" class="text-info fw-bold text-decoration-none small">{% trans "Detaylar" %} <i class="bi bi-arrow-right"></i></a>
                </div>
            </div>
        </div>
        {# Card 3 #}
        <div class="col-md-6 col-lg-3">
            <div class="card h-100 border-0 bg-light shadow-sm hover-lift">
                <div class="card-body p-3 text-center">
                    <div class="icon-box bg-white text-info shadow-sm rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center" style="width: 70px; height: 70px;">
                        <i class="bi bi-box-seam fs-2"></i>
                    </div>
                    <h5 class="fw-bold mb-2">{% trans "Enjeksiyon" %}</h5>
                    <p class="text-muted small mb-0">{% trans "Farklı tonajlardaki enjeksiyon hattımız ile seri üretim plastik parça basımı yapıyoruz." %}</p>
                </div>
                <div class="card-footer bg-transparent border-0 pb-3 text-center">
                    <a href="#" class="text-info fw-bold text-decoration-none small">{% trans "Detaylar" %} <i class="bi bi-arrow-right"></i></a>
                </div>
            </div>
        </div>
        {# Card 4 #}
        <div class="col-md-6 col-lg-3">
            <div class="card h-100 border-0 bg-light shadow-sm hover-lift">
                <div class="card-body p-3 text-center">
                    <div class="icon-box bg-white text-info shadow-sm rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center" style="width: 70px; height: 70px;">
                        <i class="bi bi-tools fs-2"></i>
                    </div>
                    <h5 class="fw-bold mb-2">{% trans "Montaj & Lojistik" %}</h5>
                    <p class="text-muted small mb-0">{% trans "Üretilen parçaları birleştiriyor, paketliyor ve sevkiyata hazır hale getiriyoruz." %}</p>
                </div>
                <div class="card-footer bg-transparent border-0 pb-3 text-center">
                    <a href="#" class="text-info fw-bold text-decoration-none small">{% trans "Detaylar" %} <i class="bi bi-arrow-right"></i></a>
                </div>
            </div>
        </div>
    </div>
</div>


{# --- PRODUCTS SECTION --- #}
<div class="container my-5 py-4" id="products">
    <div class="text-center mb-5">
        <span class="badge text-bg-primary text-white rounded-pill px-3 fs-3 py-2 mb-3 shadow-sm">{% trans "Ürünlerimiz" %}</span>
        <h2 class="display-5 fw-bold mb-2">{% trans "Kalite ve Çeşitlilik" %}</h2>
        <p class="text-muted w-75 mx-auto">{% trans "Sektörün ihtiyaçlarına yönelik geniş ürün gamımızla hizmetinizdeyiz." %}</p>
    </div>

    <div class="row g-4">
        {# Category 1: Stands #}
        <div class="col-md-6">
            <a href="#" class="text-decoration-none product-category-card">
                <div class="card border-0 shadow-lg overflow-hidden text-white h-100 rounded-4">
                    {# Image Background using SiteAsset #}
                    <div class="card-img-wrapper position-relative" style="padding-top: 100%;"> {# 1:1 Aspect Ratio #}
                        <img src="{% asset_url 'stands_banner' %}" alt="{% trans 'POS Standlar' %}" class="position-absolute top-0 start-0 w-100 h-100 object-fit-cover">
                        
                        {# Content Overlay #}
                        <div class="card-img-overlay d-flex flex-column justify-content-end p-4 gradient-overlay">
                            <h3 class="display-6 fw-bold mb-1">{% trans "POS Standlar" %}</h3>
                            <p class="mb-0 text-white-50 fs-5"><i class="bi bi-arrow-right-circle me-2"></i>{% trans "İncele" %}</p>
                        </div>
                    </div>
                </div>
            </a>
        </div>

        {# Category 2: Fixings (Parts) #}
        <div class="col-md-6">
             <a href="{% url "part_index" %}" class="text-decoration-none product-category-card">
                <div class="card border-0 shadow-lg overflow-hidden text-white h-100 rounded-4">
                    <div class="card-img-wrapper position-relative" style="padding-top: 100%;">
                        <img src="{% asset_url 'fixings_banner' %}" alt="{% trans 'Bağlantı ve Mağaza Ekipmanları' %}" class="position-absolute top-0 start-0 w-100 h-100 object-fit-cover">
                        
                        <div class="card-img-overlay d-flex flex-column justify-content-end p-4 gradient-overlay">
                            <h3 class="display-6 fw-bold mb-1">{% trans "Bağlantı ve Mağaza Ekipmanları" %}</h3>
                           <p class="mb-0 text-white-50 fs-5"><i class="bi bi-arrow-right-circle me-2"></i>{% trans "İncele" %}</p>
                        </div>
                    </div>
                </div>
            </a>
        </div>
    </div>
</div>

{% endblock content %}

{% block scripts %}
{{ block.super }}
<style>
    /* Hero Overlay - Simple and clean */
    .hero-overlay {
        background: rgba(0, 0, 0, 0.4); /* Slight overlay only */
    }

    .brand-strip-container { 
        overflow: hidden; 
        background-color: #ffffff; /* Clean white often looks better for colored logos */
    }
    
    .marquee-viewport {
        display: flex;
        overflow: hidden;
        user-select: none;
        /* Creates a soft fade-in/out effect on the edges */
        mask-image: linear-gradient(to right, transparent, black 15%, black 85%, transparent);
        -webkit-mask-image: linear-gradient(to right, transparent, black 15%, black 85%, transparent);
    }

    .marquee-content {
        display: flex;
        flex-shrink: 0;
        align-items: center;
        justify-content: space-around;
        min-width: 100%;
        /* Adjust 30s to make it faster or slower */
        animation: scroll-strip 30s linear infinite;
    }

    .marquee-content:hover {
        animation-play-state: paused;
    }

    .brand-item {
        flex: 0 0 auto;
        padding: 0 50px; /* Generous spacing for a premium feel */
        display: flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
    }
    
    .brand-item img {
        height: 60px; /* Increased height for better visibility */
        width: auto;
        max-width: 180px;
        object-fit: contain;
        /* No filters here - full color enabled */
        transition: transform 0.2s ease-in-out;
    }

    .brand-item:hover img {
        transform: scale(1.05); /* Subtle pop on hover */
    }

    @keyframes scroll-strip {
        from { transform: translateX(0); }
        to { transform: translateX(-50%); }
    }

    /* Mobile optimization */
    @media (max-width: 768px) {
        .brand-item { padding: 0 25px; }
        .brand-item img { height: 40px; }
        .marquee-content { animation-duration: 10s; }
    }

/* --- MOBILE ONLY REDESIGN --- */
@media (max-width: 768px) {
    /* 1. Scale down the Hero Logo */
    .hero-logo {
        width: 140px !important; /* Significantly smaller for mobile */
        margin-bottom: 1rem;
    }

    /* 2. Shrink Hero Text to prevent pushing content down */
    .display-4 {
        font-size: 1.8rem !important;
    }
    .lead {
        font-size: 0.9rem !important;
        margin-bottom: 1.5rem !important;
    }

    /* 3. Redesign the Stats Bar for compactness */
    /* We reduce padding and font sizes so it doesn't eat the video */
    .bg-primary.position-absolute.bottom-0 {
        background: rgba(var(--bs-primary-rgb), 0.9) !important; /* Slight transparency to see video behind */
        backdrop-filter: blur(5px);
    }

    .py-3 {
        padding-top: 0.5rem !important;
        padding-bottom: 0.5rem !important;
    }

    .h4.fw-black {
        font-size: 1rem !important; /* Smaller numbers */
        margin-bottom: -2px !important;
    }

    .small-text {
        font-size: 0.6rem !important; /* Tiny labels */
        text-transform: uppercase;
        opacity: 0.8;
    }

    /* Reduce button sizes slightly */
    .btn-lg {
        padding: 0.5rem 1.5rem !important;
        font-size: 0.9rem !important;
    }
}

/* Product Category Cards */
.product-category-card .card-img-wrapper {
    overflow: hidden;
}
.product-category-card img {
    transition: transform 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
}
.product-category-card:hover img {
    transform: scale(1.05);
}
.gradient-overlay {
    background: linear-gradient(to top, rgba(0,0,0,0.85) 0%, rgba(0,0,0,0.5) 40%, transparent 100%);
}
</style>

{% endblock scripts %}